<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>햎쮏 향햟햨햟향혦</title>
    <link rel="stylesheet" th:href="@{/css/navbar.css}">
    <link rel="stylesheet" th:href="@{/css/orders.css}">
    <link rel="icon" href="/icon/favicon.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<header>
    <div th:replace="~{/navbar}">Navbar</div>
</header>
<body>
<main>
    <div class="pages" th:if="${model.base().totalPages() > 1}">
        <ul class="pages-ul">
            <li
                    th:each="pageNumber : ${#numbers.sequence(1, model.base().totalPages())}"
                    th:classappend="${pageNumber == form.pages.page()} ? 'active'">
                <a class="page-picker"
                   th:href="@{/orders(
                         pages.page=${pageNumber},
                         pages.size=${form.pages.size()},
                         pages.substring=${form.pages.substring()}
                     )}"
                   th:text="${pageNumber}">1</a>
            </li>
        </ul>
    </div>

    <div class="products" sec:authorize="hasRole('ADMIN')" th:if="${#lists.isEmpty(model.orders())}">
        쮏쥃 혢혝 쒬 햫햣 혜햢햣햩햟햩햦 햫햦 쮏얧쫧쮏 향햟햨햟향햟 游뗴
    </div>

    <div class="cards" sec:authorize="hasRole('ADMIN')" th:if="${not #lists.isEmpty(model.orders())}">
        <div class="card" th:each="order : ${model.orders()}">
            <h2 th:text="'햏쮏쨿왐 향햟햨햟향햟: ' + ${order.number()}">햏쮏쨿왐 향햟햨햟향햟</h2>
            <h4 th:text="'햊혝쮏쮏쒫썜 혡햣햫햟: ' + ${order.totalPrice()}">햊혝쮏쮏쒫썜 혡햣햫햟</h4>
            <h4 th:text="'햆햟혝햟 향햟햨햟향햟: ' + ${#temporals.format(order.date(), 'HH:mm dd-MM')}">햆햟혝햟 향햟햨햟향햟</h4>
        </div>
    </div>

    <div class="products" sec:authorize="hasRole('USER')" th:if="${#lists.isEmpty(model.purchases())}">
        쮏쥃 혢혝 쒬 햫햣 혜햢햣햩햟햩햦 햫햦 쮏얧쫧쮏 향햟햨햟향햟 游뗴
    </div>

    <div class="cards" sec:authorize="hasRole('USER')" th:if="${not #lists.isEmpty(model.purchases())}">
        <div class="card" th:each="purchase : ${model.purchases()}">
            <h2 th:text="'햐혝햟혝혞혜: ' + ${purchase.status()}">햐혝햟혝혞혜</h2>
            <h2 th:text="'햏쮏쨿왐 향햟햨햟향햟: ' + ${purchase.number()}">햏쮏쨿왐 향햟햨햟향햟</h2>
            <h4 th:text="'햊혝쮏쮏쒫썜 혡햣햫햟: ' + ${purchase.totalPrice()}">햊혝쮏쮏쒫썜 혡햣햫햟</h4>
            <h4 th:text="'쮏혞혢햣햫햫 햠햟햩햩쮏: ' + ${purchase.cashback()}">쮏혞혢햣햫 햠햟햩햩쮏</h4>
            <h4 th:text="'햆햟혝햟 향햟햨햟향햟: ' + ${#temporals.format(purchase.date(), 'HH:mm dd-MM')}">햆햟혝햟 향햟햨햟향햟</h4>
            <a th:href="@{/orders/{number}/purchase-details(number=${purchase.number})}">햆햣혝햟햩햦 쮏쥄햨햦</a>
        </div>
    </div>
</main>
</body>
</html>